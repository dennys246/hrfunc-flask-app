{% extends "base.html" %}

{% block title %}Home | HRfunc{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const aboutCard = document.querySelector('#about-card');
      if (!aboutCard || !('IntersectionObserver' in window)) {
          if (aboutCard) {
              aboutCard.classList.add('is-visible');
          }
          return;
      }
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.2 });
      observer.observe(aboutCard);
    });
  </script>
{% endblock %}

{% block content %}
<section class="py-20 text-center text-gray-800 dark:text-gray-100">
  <h1 class="text-5xl font-extrabold leading-tight">
    Hemodynamics and Neural Activity<br> Illuminated
  </h1>
</section>

<section id="about" class="relative px-4 sm:px-6 md:px-10 pt-10 pb-32 flex justify-center">
  <img src="{{ url_for('static', filename='img/fnirs_channel_data_2_transparent_new.png') }}"
       alt="Hemoglobin and Neural Activity Overlaid"
       class="block w-full h-auto object-cover rounded-3xl shadow-2xl" />

  <div id="about-card" class="bg-white/85 dark:bg-slate-900/70 rounded-3xl shadow-2xl border border-indigo-100/60 dark:border-indigo-900/60 backdrop-blur-sm transition-all duration-700 ease-out">
    <div class="px-6 sm:px-10 py-12">
      {% include "partials/about_section.html" %}
    </div>
  </div>
</section>
{% endblock %}
